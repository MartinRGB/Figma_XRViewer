{
  "version": 3,
  "sources": ["../../../node_modules/zustand/vanilla.js", "../src/index.ts", "../src/main/editable.tsx", "../src/main/store.ts", "../../../node_modules/react-merge-refs/src/index.tsx", "../src/main/useInvalidate.ts", "../src/main/SheetProvider.tsx", "../src/main/editableFactoryConfigUtils.ts", "../src/main/defaultEditableFactoryConfig.ts", "../src/main/utils.ts", "../src/main/RefreshSnapshot.tsx", "../src/drei/PerspectiveCamera.tsx", "../src/drei/OrthographicCamera.tsx"],
  "sourcesContent": ["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction create(createState) {\n  var state;\n  var listeners = new Set();\n\n  var setState = function setState(partial, replace) {\n    var nextState = typeof partial === 'function' ? partial(state) : partial;\n\n    if (nextState !== state) {\n      var _previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach(function (listener) {\n        return listener(state, _previousState);\n      });\n    }\n  };\n\n  var getState = function getState() {\n    return state;\n  };\n\n  var subscribeWithSelector = function subscribeWithSelector(listener, selector, equalityFn) {\n    if (selector === void 0) {\n      selector = getState;\n    }\n\n    if (equalityFn === void 0) {\n      equalityFn = Object.is;\n    }\n\n    var currentSlice = selector(state);\n\n    function listenerToAdd() {\n      var nextSlice = selector(state);\n\n      if (!equalityFn(currentSlice, nextSlice)) {\n        var _previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, _previousSlice);\n      }\n    }\n\n    listeners.add(listenerToAdd);\n    return function () {\n      return listeners.delete(listenerToAdd);\n    };\n  };\n\n  var subscribe = function subscribe(listener, selector, equalityFn) {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n\n    listeners.add(listener);\n    return function () {\n      return listeners.delete(listener);\n    };\n  };\n\n  var destroy = function destroy() {\n    return listeners.clear();\n  };\n\n  var api = {\n    setState: setState,\n    getState: getState,\n    subscribe: subscribe,\n    destroy: destroy\n  };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nexports.default = create;\n", "export {default as editable} from './main/editable'\r\nexport type {EditableState, BindFunction} from './main/store'\r\n/**\r\n * This is a private API that's exported so that `@theatre/r3f/dist/extension`\r\n * and `@theatre/r3f` can talk to one another. This API _could_ change\r\n * between patch releases, so please don't build on it :)\r\n *\r\n * @internal\r\n */\r\nexport {\r\n  editorStore as ____private_editorStore,\r\n  allRegisteredObjects as __private_allRegisteredObjects,\r\n} from './main/store'\r\n/**\r\n * This is a private API that's exported so that `@theatre/r3f/dist/extension`\r\n * and `@theatre/r3f` can talk to one another. This API _could_ change\r\n * between patch releases, so please don't build on it :)\r\n *\r\n * @internal\r\n */\r\n//test\r\nexport {makeStoreKey as __private_makeStoreKey} from './main/utils'\r\n\r\nexport {default as SheetProvider, useCurrentSheet} from './main/SheetProvider'\r\nexport {refreshSnapshot} from './main/utils'\r\nexport {default as RefreshSnapshot} from './main/RefreshSnapshot'\r\nexport * from './drei'\r\n", "import type {ComponentProps, ComponentType, Ref, RefAttributes} from 'react'\r\nimport {useMemo, useState} from 'react'\r\nimport React, {forwardRef, useEffect, useLayoutEffect, useRef} from 'react'\r\nimport {allRegisteredObjects, editorStore} from './store'\r\nimport mergeRefs from 'react-merge-refs'\r\nimport useInvalidate from './useInvalidate'\r\nimport {useCurrentSheet} from './SheetProvider'\r\nimport defaultEditableFactoryConfig from './defaultEditableFactoryConfig'\r\nimport type {EditableFactoryConfig, fSrcObject} from './editableFactoryConfigUtils'\r\nimport {makeStoreKey} from './utils'\r\nimport type {$FixMe, $IntentionalAny} from '../types'\r\nimport type {ISheetObject} from '@theatre/core'\r\nimport {notify} from '@theatre/core'\r\n\r\nconst createEditable = <Keys extends keyof JSX.IntrinsicElements>(\r\n  config: EditableFactoryConfig,\r\n) => {\r\n  const editable = <\r\n    T extends ComponentType<any> | keyof JSX.IntrinsicElements | 'primitive',\r\n    U extends Keys,\r\n  >(\r\n    Component: T,\r\n    type: T extends 'primitive' ? null : U,\r\n  ) => {\r\n    type Props = Omit<ComponentProps<T>, 'visible'> & {\r\n      theatreKey: string\r\n      visible?: boolean | 'editor'\r\n      additionalProps?: $FixMe\r\n      objRef?: $FixMe\r\n    } & (T extends 'primitive'\r\n        ? {\r\n            editableType: U\r\n          }\r\n        : {}) &\r\n      RefAttributes<JSX.IntrinsicElements[U]>\r\n\r\n    if (Component !== 'primitive' && !type) {\r\n      throw new Error(\r\n        `You must provide the type of the component you're creating an editable for. For example: editable(MyComponent, 'mesh').`,\r\n      )\r\n    }\r\n\r\n    return forwardRef(\r\n      (\r\n        {\r\n          theatreKey,\r\n          visible,\r\n          editableType,\r\n          additionalProps,\r\n          objRef,\r\n          ...props\r\n        }: Props,\r\n        ref,\r\n      ) => {\r\n        //region Runtime type checks\r\n        if (typeof theatreKey !== 'string') {\r\n          throw new Error(\r\n            `No valid theatreKey was provided to the editable component. theatreKey must be a string. Received: ${theatreKey}`,\r\n          )\r\n        }\r\n\r\n        if (Component === 'primitive' && !editableType) {\r\n          throw new Error(\r\n            `When using the primitive component, you must provide the editableType prop. Received: ${editableType}`,\r\n          )\r\n        }\r\n        //endregion\r\n\r\n        const actualType = type ?? editableType\r\n\r\n        const objectRef = useRef<JSX.IntrinsicElements[U]>()\r\n\r\n        const sheet = useCurrentSheet()!\r\n\r\n        const [sheetObject, setSheetObject] = useState<\r\n          undefined | ISheetObject<$FixMe>\r\n        >(undefined)\r\n\r\n        const storeKey = useMemo(\r\n          () =>\r\n            makeStoreKey({\r\n              ...sheet.address,\r\n              objectKey: theatreKey as $IntentionalAny,\r\n            }),\r\n          [sheet, theatreKey],\r\n        )\r\n\r\n        const invalidate = useInvalidate()\r\n\r\n        // warn about cameras in r3f\r\n        useEffect(() => {\r\n          if (\r\n            Component === 'perspectiveCamera' ||\r\n            Component === 'orthographicCamera'\r\n          ) {\r\n            const dreiComponent =\r\n              Component.charAt(0).toUpperCase() + Component.slice(1)\r\n\r\n            notify.warning(\r\n              `Possibly incorrect use of <e.${Component} />`,\r\n              `You seem to have declared the camera \"${theatreKey}\" simply as \\`<e.${Component} ... />\\`. This alone won't make r3f use it for rendering.\r\n\r\nThe easiest way to create a custom animatable \\`${dreiComponent}\\` is to import it from \\`@react-three/drei\\`, and make it editable.\r\n\\`\\`\\`\r\nimport {${dreiComponent}} from '@react-three/drei'\r\n\r\nconst EditableCamera =\r\n  editable(${dreiComponent}, '${Component}')\r\n\\`\\`\\`\r\nThen you can use it in your JSX like any other editable component. Note the makeDefault prop exposed by drei, which makes r3f use it for rendering.\r\n\\`\\`\\`\r\n<EditableCamera\r\n  theatreKey=\"${theatreKey}\"\r\n  makeDefault\r\n>\r\n\\`\\`\\`\r\n`,\r\n            )\r\n          }\r\n        }, [Component, theatreKey])\r\n\r\n        // create sheet object and add editable to store\r\n        useLayoutEffect(() => {\r\n          if (!sheet) return\r\n          if (sheetObject) {\r\n            sheet.object(\r\n              theatreKey,\r\n              Object.assign(\r\n                {\r\n                  ...additionalProps,\r\n                },\r\n                // @ts-ignore\r\n                ...Object.values(config[actualType].props).map(\r\n                  // @ts-ignore\r\n                  (value) => value.type,\r\n                ),\r\n              ),\r\n              {reconfigure: true},\r\n            )\r\n            return\r\n          } else {\r\n            const sheetObject = sheet.object(\r\n              theatreKey,\r\n              Object.assign(\r\n                {\r\n                  ...additionalProps,\r\n                },\r\n                // @ts-ignore\r\n                ...Object.values(config[actualType].props).map(\r\n                  // @ts-ignore\r\n                  (value) => value.type,\r\n                ),\r\n              ),\r\n            )\r\n            allRegisteredObjects.add(sheetObject)\r\n            setSheetObject(sheetObject)\r\n\r\n            if (objRef)\r\n              typeof objRef === 'function'\r\n                ? objRef(sheetObject)\r\n                : (objRef.current = sheetObject)\r\n\r\n            editorStore.getState().addEditable(storeKey, {\r\n              type: actualType,\r\n              sheetObject,\r\n              visibleOnlyInEditor: visible === 'editor',\r\n              // @ts-ignore\r\n              objectConfig: config[actualType],\r\n            })\r\n          }\r\n        }, [sheet, storeKey, additionalProps])\r\n\r\n        // store initial values of props\r\n        useLayoutEffect(() => {\r\n          if (!sheetObject) return\r\n          sheetObject!.initialValue = Object.fromEntries(\r\n            // @ts-ignore\r\n            Object.entries(config[actualType].props).map(\r\n              // @ts-ignore\r\n              ([key, value]) => [key, value.parse(props)],\r\n            ),\r\n          )\r\n        }, [\r\n          sheetObject,\r\n          // @ts-ignore\r\n          ...Object.keys(config[actualType].props).map(\r\n            // @ts-ignore\r\n            (key) => props[key],\r\n          ),\r\n        ])\r\n\r\n        // subscribe to prop changes from theatre\r\n        useLayoutEffect(() => {\r\n          if (!sheetObject) return\r\n\r\n          const object = objectRef.current!\r\n\r\n          const setFromTheatre = (newValues: any) => {\r\n            // @ts-ignore\r\n            Object.entries(config[actualType].props).forEach(\r\n              // @ts-ignore\r\n              ([key, value]) => {value.apply(newValues[key], object)},\r\n            )\r\n            // @ts-ignore\r\n            config[actualType].updateObject?.(object)\r\n            invalidate()\r\n          }\r\n\r\n          setFromTheatre(sheetObject.value)\r\n\r\n          const untap = sheetObject.onValuesChange(setFromTheatre)\r\n\r\n          return () => {\r\n            untap()\r\n            sheetObject.sheet.detachObject(theatreKey)\r\n            allRegisteredObjects.delete(sheetObject)\r\n            editorStore.getState().removeEditable(storeKey)\r\n          }\r\n        }, [sheetObject])\r\n\r\n        return (\r\n          // @ts-ignore\r\n          <Component\r\n            ref={mergeRefs([objectRef, ref])}\r\n            {...props}\r\n            visible={visible !== 'editor' && visible}\r\n            userData={{\r\n              __editable: true,\r\n              __storeKey: storeKey,\r\n            }}\r\n          />\r\n        )\r\n      },\r\n    )\r\n  }\r\n\r\n  const extensions = {\r\n    ...Object.fromEntries(\r\n      Object.keys(config).map((key) => [\r\n        key,\r\n        // @ts-ignore\r\n        editable(key, key),\r\n      ]),\r\n    ),\r\n    primitive: editable('primitive', null),\r\n  } as unknown as {\r\n    [Property in Keys]: React.ForwardRefExoticComponent<\r\n      Omit<JSX.IntrinsicElements[Property], 'visible'> & {\r\n        theatreKey: string\r\n        visible?: boolean | 'editor'\r\n        additionalProps?: $FixMe\r\n        objRef?: $FixMe\r\n        // not exactly sure how to get the type of the threejs object itself\r\n        ref?: Ref<unknown>\r\n        \r\n        mapSrc?: fSrcObject\r\n        alphaMapSrc?: fSrcObject\r\n        aoMapSrc?: fSrcObject\r\n        bumpMapSrc?: fSrcObject\r\n        displacementMapSrc?: fSrcObject\r\n        emissiveMapSrc?: fSrcObject\r\n        envMapSrc?: fSrcObject\r\n        lightMapSrc?: fSrcObject\r\n        metalnessMapSrc?: fSrcObject\r\n        normalMapSrc?: fSrcObject\r\n        roughnessMapSrc?: fSrcObject\r\n      }\r\n    >\r\n  } & {\r\n    primitive: React.ForwardRefExoticComponent<\r\n      {\r\n        object: any\r\n        theatreKey: string\r\n        visible?: boolean | 'editor'\r\n        additionalProps?: $FixMe\r\n        objRef?: $FixMe\r\n        editableType: keyof JSX.IntrinsicElements\r\n        // not exactly sure how to get the type of the threejs object itself\r\n        ref?: Ref<unknown>\r\n      } & {\r\n        // Have to reproduce the primitive component's props here because we need to\r\n        // lift this index type here to the outside to make auto-complete work\r\n        [props: string]: any\r\n      }\r\n    >\r\n  }\r\n\r\n  return Object.assign(editable, extensions)\r\n}\r\n\r\nconst editable = createEditable<keyof typeof defaultEditableFactoryConfig>(\r\n  defaultEditableFactoryConfig,\r\n)\r\n\r\nexport default editable\r\n", "import type {StateCreator} from 'zustand'\r\nimport create from 'zustand/vanilla'\r\nimport type {Object3D, Scene, WebGLRenderer} from 'three'\r\nimport {Group} from 'three'\r\nimport type {ISheetObject} from '@theatre/core'\r\nimport type {ObjectConfig} from './editableFactoryConfigUtils'\r\n\r\nexport type TransformControlsMode = 'translate' | 'rotate' | 'scale'\r\nexport type TransformControlsSpace = 'world' | 'local'\r\nexport type ViewportShading = 'wireframe' | 'flat' | 'solid' | 'rendered'\r\n\r\nexport type BaseSheetObjectType = ISheetObject<any>\r\n\r\nexport const allRegisteredObjects = new WeakSet<BaseSheetObjectType>()\r\n\r\nexport interface Editable<T> {\r\n  type: string\r\n  sheetObject: ISheetObject<any>\r\n  objectConfig: ObjectConfig<T>\r\n  visibleOnlyInEditor: boolean\r\n}\r\n\r\nexport type EditableSnapshot<T extends Editable<any> = Editable<any>> = {\r\n  proxyObject?: Object3D | null\r\n} & T\r\n\r\nexport interface SerializedEditable {\r\n  type: string\r\n}\r\n\r\nexport interface EditableState {\r\n  editables: Record<string, SerializedEditable>\r\n}\r\n\r\nexport type EditorStore = {\r\n  scene: Scene | null\r\n  gl: WebGLRenderer | null\r\n  helpersRoot: Group\r\n  editables: Record<string, Editable<any>>\r\n  // this will come in handy when we start supporting multiple canvases\r\n  canvasName: string\r\n  sceneSnapshot: Scene | null\r\n  editablesSnapshot: Record<string, EditableSnapshot> | null\r\n\r\n  init: (scene: Scene, gl: WebGLRenderer) => void\r\n\r\n  addEditable: (theatreKey: string, editable: Editable<any>) => void\r\n  removeEditable: (theatreKey: string) => void\r\n  createSnapshot: () => void\r\n  setSnapshotProxyObject: (\r\n    proxyObject: Object3D | null,\r\n    theatreKey: string,\r\n  ) => void\r\n}\r\n\r\nconst config: StateCreator<EditorStore> = (set, get) => {\r\n  return {\r\n    sheet: null,\r\n    editorObject: null,\r\n    scene: null,\r\n    gl: null,\r\n    helpersRoot: new Group(),\r\n    editables: {},\r\n    canvasName: 'default',\r\n    sceneSnapshot: null,\r\n    editablesSnapshot: null,\r\n    initialEditorCamera: {},\r\n\r\n    init: (scene, gl) => {\r\n      set({\r\n        scene,\r\n        gl,\r\n      })\r\n\r\n      // Create a snapshot, so that if the editor is already open, it gets refreshed\r\n      // when the scene is initialized\r\n      get().createSnapshot()\r\n    },\r\n\r\n    addEditable: (theatreKey, editable) => {\r\n      set((state) => ({\r\n        editables: {\r\n          ...state.editables,\r\n          [theatreKey]: editable,\r\n        },\r\n      }))\r\n    },\r\n\r\n    removeEditable: (theatreKey) => {\r\n      set((state) => {\r\n        const editables = {...state.editables}\r\n        delete editables[theatreKey]\r\n        return {\r\n          editables,\r\n        }\r\n      })\r\n    },\r\n\r\n    createSnapshot: () => {\r\n      set((state) => ({\r\n        sceneSnapshot: state.scene?.clone() ?? null,\r\n        editablesSnapshot: state.editables,\r\n      }))\r\n    },\r\n\r\n    setSnapshotProxyObject: (proxyObject, theatreKey) => {\r\n      set((state) => ({\r\n        editablesSnapshot: {\r\n          ...state.editablesSnapshot,\r\n          [theatreKey]: {\r\n            ...state.editablesSnapshot![theatreKey],\r\n            proxyObject,\r\n          },\r\n        },\r\n      }))\r\n    },\r\n  }\r\n}\r\n\r\nexport const editorStore = create<EditorStore>(config)\r\n\r\nexport type BindFunction = (options: {\r\n  allowImplicitInstancing?: boolean\r\n  gl: WebGLRenderer\r\n  scene: Scene\r\n}) => void\r\n\r\nexport const bindToCanvas: BindFunction = ({gl, scene}) => {\r\n  const init = editorStore.getState().init\r\n  init(scene, gl)\r\n}\r\n", "import * as React from \"react\";\n\nexport default function mergeRefs<T = any>(\n  refs: Array<React.MutableRefObject<T> | React.LegacyRef<T>>\n): React.RefCallback<T> {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        (ref as React.MutableRefObject<T | null>).current = value;\n      }\n    });\n  };\n}\n", "import {useThree} from '@react-three/fiber'\r\n\r\nexport default function useInvalidate() {\r\n  return useThree(({invalidate}) => invalidate)\r\n}\r\n", "import type {ReactNode} from 'react'\r\nimport React, {\r\n  createContext,\r\n  useContext,\r\n  useEffect,\r\n  useLayoutEffect,\r\n} from 'react'\r\nimport {useThree} from '@react-three/fiber'\r\nimport type {ISheet} from '@theatre/core'\r\nimport {bindToCanvas} from './store'\r\n\r\nconst ctx = createContext<{sheet: ISheet}>(undefined!)\r\n\r\nconst useWrapperContext = (): {sheet: ISheet} => {\r\n  const val = useContext(ctx)\r\n  if (!val) {\r\n    throw new Error(\r\n      `No sheet found. You need to add a <SheetProvider> higher up in the tree. https://docs.theatrejs.com/r3f.html#sheetprovider`,\r\n    )\r\n  }\r\n  return val\r\n}\r\n\r\nexport const useCurrentSheet = (): ISheet | undefined => {\r\n  return useWrapperContext().sheet\r\n}\r\n\r\nconst SheetProvider: React.FC<{\r\n  sheet: ISheet\r\n  children: ReactNode\r\n}> = ({sheet, children}) => {\r\n  const {scene, gl} = useThree((s) => ({scene: s.scene, gl: s.gl}))\r\n\r\n  useEffect(() => {\r\n    if (!sheet || sheet.type !== 'Theatre_Sheet_PublicAPI') {\r\n      throw new Error(`sheet in <Wrapper sheet={sheet}> has an invalid value`)\r\n    }\r\n  }, [sheet])\r\n\r\n  useLayoutEffect(() => {\r\n    bindToCanvas({gl, scene})\r\n  }, [scene, gl])\r\n\r\n  return <ctx.Provider value={{sheet}}>{children}</ctx.Provider>\r\n}\r\n\r\nexport default SheetProvider\r\n", "import type {UnknownShorthandCompoundProps} from '@theatre/core'\r\nimport {notify} from '@theatre/core'\r\nimport {types} from '@theatre/core'\r\nimport {Object3D, sRGBEncoding, Texture, TextureLoader, VideoTexture} from 'three'\r\nimport type {IconID} from '../extension/icons'\r\nimport {Color} from 'three'\r\nimport { invalidate } from '@react-three/fiber'\r\n\r\nexport type Helper = Object3D & {\r\n  update?: () => void\r\n}\r\ntype PropConfig<T> = {\r\n  parse: (props: Record<string, any>) => T\r\n  apply: (value: T, object: any) => void\r\n  type: UnknownShorthandCompoundProps\r\n}\r\ntype Props = Record<string, PropConfig<any>>\r\ntype Meta<T> = {\r\n  useTransformControls: boolean\r\n  updateObject?: (object: T) => void\r\n  icon: IconID\r\n  dimensionless?: boolean\r\n  createHelper?: (object: T) => Helper\r\n}\r\nexport type ObjectConfig<T> = {props: Props} & Meta<T>\r\nexport type EditableFactoryConfig = Partial<\r\n  Record<keyof JSX.IntrinsicElements, ObjectConfig<any>>\r\n>\r\n\r\ntype Vector3 = {\r\n  x: number\r\n  y: number\r\n  z: number\r\n}\r\n\r\nfunction isNumber(value: any) {\r\n  return typeof value === 'number' && isFinite(value)\r\n}\r\n\r\nfunction isVectorObject(value: any) {\r\n  return (['x', 'y', 'z'] as const).every((axis) => isNumber(value[axis]))\r\n}\r\n\r\nexport const createVector = (components?: [number, number, number]) => {\r\n  return components\r\n    ? {x: components[0], y: components[1], z: components[2]}\r\n    : {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0,\r\n      }\r\n}\r\n\r\nexport const createVectorPropConfig = (\r\n  key: string,\r\n  defaultValue = createVector(),\r\n  {nudgeMultiplier = 0.01} = {},\r\n): PropConfig<Vector3> => ({\r\n  parse: (props) => {\r\n    const propValue = props[key]\r\n    // if prop exists\r\n    const vector = !propValue\r\n      ? defaultValue\r\n      : // if prop is an array\r\n      Array.isArray(propValue)\r\n      ? createVector(propValue as any)\r\n      : // if prop is a scalar\r\n      isNumber(propValue)\r\n      ? {\r\n          x: propValue,\r\n          y: propValue,\r\n          z: propValue,\r\n        }\r\n      : // if prop is a threejs Vector3\r\n      isVectorObject(propValue)\r\n      ? {\r\n          x: propValue.x,\r\n          y: propValue.y,\r\n          z: propValue.z,\r\n        }\r\n      : // show a warning and return defaultValue\r\n        (notify.warning(\r\n          `Invalid value for vector prop \"${key}\"`,\r\n          `Couldn't make sense of \\`${key}={${JSON.stringify(\r\n            propValue,\r\n          )}}\\`, falling back to \\`${key}={${JSON.stringify([\r\n            defaultValue.x,\r\n            defaultValue.y,\r\n            defaultValue.z,\r\n          ])}}\\`.\r\n\r\nTo fix this, make sure the prop is set to either a number, an array of numbers, or a three.js Vector3 object.`,\r\n        ),\r\n        defaultValue)\r\n    ;(['x', 'y', 'z'] as const).forEach((axis) => {\r\n      // e.g. r3f also accepts prop keys like \"scale-x\"\r\n      if (props[`${key}-${axis}` as any])\r\n        vector[axis] = props[`${key}-${axis}` as any]\r\n    })\r\n    return vector\r\n  },\r\n  apply: (value, object) => {\r\n    object[key].set(value.x, value.y, value.z)\r\n  },\r\n  type: {\r\n    [key]: {\r\n      x: types.number(defaultValue.x, {nudgeMultiplier}),\r\n      y: types.number(defaultValue.y, {nudgeMultiplier}),\r\n      z: types.number(defaultValue.z, {nudgeMultiplier}),\r\n    },\r\n  },\r\n})\r\n\r\nexport const createNumberPropConfig = (\r\n  key: string,\r\n  defaultValue: number = 0,\r\n  {nudgeMultiplier = 0.01,range=[0,1]} = {},\r\n): PropConfig<number> => ({\r\n  parse: (props) => {\r\n    return props[key] ?? defaultValue\r\n  },\r\n  apply: (value, object) => {\r\n    object[key] = value\r\n  },\r\n  type: {\r\n    [key]: types.number(defaultValue, {nudgeMultiplier}),\r\n  },\r\n})\r\n\r\nexport type Rgba = {\r\n  r: number\r\n  g: number\r\n  b: number\r\n  a: number\r\n}\r\n\r\nexport const createColorPropConfig = (\r\n  key: string,\r\n  defaultValue = new Color(0, 0, 0),\r\n): PropConfig<Rgba> => ({\r\n  parse: (props) => {\r\n    return {...(props[key] ?? defaultValue), a: 1}\r\n  },\r\n  apply: (value, object) => {\r\n    object[key].setRGB(value.r, value.g, value.b)\r\n  },\r\n  type: {\r\n    [key]: types.rgba({...defaultValue, a: 1}),\r\n  },\r\n})\r\n\r\n// ######################## File Props ########################\r\n\r\n\r\nexport const createNumberRangePropConfig = (\r\n  key: string,\r\n  defaultValue: number = 0,\r\n  {nudgeMultiplier = 0.01} = {},\r\n  range:[min: number, max: number] = [0,1],\r\n): PropConfig<number> => ({\r\n  parse: (props) => {\r\n    return props[key] ?? defaultValue\r\n  },\r\n  apply: (value, object) => {\r\n    object[key] = value\r\n  },\r\n  type: {\r\n    [key]: types.number(defaultValue, {nudgeMultiplier,range}),\r\n  },\r\n})\r\n\r\n\r\nexport class StringLietral {\r\n  key:string;\r\n  object:{ [x: string]: string; }\r\n  constructor(key: string, object: { [x: string]: string; }){\r\n    this.key = key;\r\n    this.object = object;\r\n  };\r\n}\r\n\r\nexport const createStringLietralPropConfig = (\r\n  key: string,\r\n  defaultValue = new StringLietral(\"option\",{\"option 1\": \"Red\", \"option 2\": \"Green\", \"option 3\": \"Blue\"}),\r\n): PropConfig<string> => ({\r\n  parse: (props) => {\r\n    return props[key] ?? defaultValue.key\r\n  },\r\n  apply: (value, object) => {\r\n    object[key] = value;\r\n  },\r\n  type: {\r\n    [key]: types.stringLiteral(defaultValue.key, defaultValue.object),\r\n  },\r\n})\r\n\r\nexport class NumberLiteral {\r\n  key:number;\r\n  object:{ [x: number]: string; }\r\n  constructor(key: number, object: { [x: number]: string; }){\r\n    this.key = key;\r\n    this.object = object;\r\n  };\r\n}\r\n\r\nexport const createNumberLietralPropConfig = (\r\n  key: string,\r\n  defaultValue = new NumberLiteral(0,{0: \"Red\", 1: \"Green\", 3: \"Blue\"}),\r\n): PropConfig<string> => ({\r\n  parse: (props) => {\r\n    return props[key] ?? defaultValue.key\r\n  },\r\n  apply: (value, object) => {\r\n    object[key] = Number(value);\r\n  },\r\n  //@ts-ignore\r\n  type: {\r\n    //@ts-ignore\r\n    [key]: types.numberLiteral(defaultValue.key, defaultValue.object),\r\n  },\r\n})\r\n\r\nexport const createBooleanPropConfig = (\r\n  key: string,\r\n  defaultValue = false,\r\n): PropConfig<boolean> => ({\r\n  parse: (props) => {\r\n    return props[key] ?? defaultValue\r\n  },\r\n  apply: (value, object) => {\r\n    object[key] = value;\r\n  },\r\n  type: {\r\n    [key]: types.boolean(defaultValue),\r\n  },\r\n})\r\n\r\n\r\nclass FileSrcObject {\r\n  src:string\r\n  fileName:string\r\n  constructor(src:string,fileName:string){\r\n    this.src= src;\r\n    this.fileName = fileName;\r\n  }\r\n}\r\n\r\nexport type fSrcObject = {\r\n  src:string,\r\n  fileName:string,\r\n}\r\n\r\nexport const createFileSrcPropConfig = (\r\n  key: string,\r\n  defaultValue = new FileSrcObject('',''),\r\n): PropConfig<fSrcObject> => ({\r\n  parse: (props) => {\r\n    return props[key]\r\n  },\r\n  apply: (value, object) => {\r\n    const imgExt = ['jpg','png','jpeg']\r\n    const videoExt = ['mp4','web']\r\n    const gltfExt = ['gltf','glb']\r\n    if(value.src && value.src != ''){\r\n      if(value.fileName){\r\n        const fileExt =  (value.fileName.split('.')[value.fileName.split('.').length - 1]);\r\n        if(imgExt.includes(fileExt)){\r\n          new TextureLoader().load(value.src, (tex) => {\r\n            tex.encoding = sRGBEncoding;\r\n            // object[key.split('Src')[0]] = tex;\r\n            // object[key.split('Src')[0]].needsUpdate = true;\r\n            object.needsUpdate = true;\r\n            object[`${key.split('Src')[0]}`] = tex;\r\n            tex.dispose()\r\n            invalidate();\r\n          });\r\n        }\r\n    \r\n        if(videoExt.includes(fileExt)){\r\n          const videoE = document.createElement('video');\r\n          videoE.src = value.src;\r\n          videoE.crossOrigin = 'Anonymous'\r\n          videoE.loop = true\r\n          videoE.muted = true\r\n          videoE.load();\r\n          videoE.play();     \r\n          const vidTex = new VideoTexture( videoE );\r\n          vidTex.encoding = sRGBEncoding;\r\n          object.needsUpdate = true;\r\n          object[key.split('Src')[0]] = vidTex;\r\n          vidTex.dispose()\r\n          invalidate();\r\n        }\r\n      }\r\n    }\r\n    else{\r\n      object[key.split('Src')[0]] = null;\r\n      invalidate();\r\n    }\r\n\r\n  },\r\n  type: {\r\n    [key]: types.filesrc(defaultValue)\r\n    \r\n  },\r\n})\r\n\r\n// ######################## File Props ########################\r\n\r\nexport const extendObjectProps = <T extends {props: {}}>(\r\n  objectConfig: T,\r\n  extension: Props,\r\n) => ({\r\n  ...objectConfig,\r\n  props: {...objectConfig.props, ...extension},\r\n})\r\n", "import type { EditableFactoryConfig } from './editableFactoryConfigUtils'\r\n// ######################## File Props ########################\r\nimport {\r\n  createColorPropConfig,\r\n  createNumberPropConfig,\r\n  createVector,\r\n  createVectorPropConfig,\r\n  createBooleanPropConfig, createNumberLietralPropConfig,createNumberRangePropConfig,createFileSrcPropConfig,NumberLiteral,\r\n  extendObjectProps,\r\n} from './editableFactoryConfigUtils'\r\n// ######################## File Props ########################\r\nimport type {\r\n  DirectionalLight,\r\n  Object3D,\r\n  OrthographicCamera,\r\n  PerspectiveCamera,\r\n  PointLight,\r\n  SpotLight,\r\n  MeshStandardMaterial,\r\n} from 'three'\r\nimport {\r\n  BoxHelper,\r\n  CameraHelper,\r\n  Color,\r\n  DirectionalLightHelper,\r\n  PointLightHelper,\r\n  SpotLightHelper,\r\n} from 'three'\r\nimport { types } from '@theatre/core'\r\n\r\nconst baseObjectConfig = {\r\n  props: {\r\n    position: createVectorPropConfig('position'),\r\n    rotation: createVectorPropConfig('rotation'),\r\n    scale: createVectorPropConfig('scale', createVector([1, 1, 1])),\r\n  },\r\n  useTransformControls: true,\r\n  icon: 'cube' as const,\r\n  createHelper: (object: Object3D) => new BoxHelper(object, selectionColor),\r\n}\r\n\r\nconst baseLightConfig = {\r\n  ...extendObjectProps(baseObjectConfig, {\r\n    intensity: createNumberPropConfig('intensity', 1),\r\n    distance: createNumberPropConfig('distance'),\r\n    decay: createNumberPropConfig('decay'),\r\n    color: createColorPropConfig('color', new Color('white')),\r\n  }),\r\n  dimensionless: true,\r\n}\r\n\r\nconst baseCameraConfig = {\r\n  ...extendObjectProps(baseObjectConfig, {\r\n    near: createNumberPropConfig('near', 0.1, {nudgeMultiplier: 0.1}),\r\n    far: createNumberPropConfig('far', 2000, {nudgeMultiplier: 0.1}),\r\n  }),\r\n  updateObject: (camera: PerspectiveCamera | OrthographicCamera) => {\r\n    camera.updateProjectionMatrix()\r\n  },\r\n  icon: 'camera' as const,\r\n  dimensionless: true,\r\n  createHelper: (camera: PerspectiveCamera) => new CameraHelper(camera),\r\n}\r\n\r\nconst selectionColor = '#40AAA4'\r\n\r\nconst defaultEditableFactoryConfig = {\r\n  group: {\r\n    ...baseObjectConfig,\r\n    icon: 'collection' as const,\r\n    createHelper: (object: Object3D) => new BoxHelper(object, selectionColor),\r\n  },\r\n  mesh: {\r\n    ...baseObjectConfig,\r\n    icon: 'cube' as const,\r\n    createHelper: (object: Object3D) => new BoxHelper(object, selectionColor),\r\n  },\r\n  meshStandardMaterial: {\r\n    props: {\r\n      color: createColorPropConfig('color', new Color('white')),\r\n      transparent:createBooleanPropConfig('transparent', true),\r\n      opacity:createNumberRangePropConfig('opacity', 1, {nudgeMultiplier: 0.1},[0,1]),\r\n      //@ts-ignore\r\n      side:createNumberLietralPropConfig('side',new NumberLiteral(\"2\",{\"0\": 'FrontSide', \"1\": 'BackSide',\"2\":'DoubleSide',\"3\":'TwoPassDoubleSide'})),\r\n      wireframe:createBooleanPropConfig('wireframe', false),\r\n      fog:createBooleanPropConfig('fog', false),\r\n      flatShading:createBooleanPropConfig('flatShading', false),\r\n      //map:createFilePropConfig('map'),\r\n      // mapSrc:createFileSrcPropConfig('mapSrc'),\r\n\r\n      mapSrc:createFileSrcPropConfig('mapSrc'),\r\n      alphaMapSrc:createFileSrcPropConfig('alphaMapSrc'),\r\n      \r\n      aoMapSrc:createFileSrcPropConfig('aoMapSrc'),\r\n      aoMapIntensity:createNumberRangePropConfig('aoMapIntensity', 1, {nudgeMultiplier: 0.1},[0,1]),\r\n\r\n      bumpMapSrc:createFileSrcPropConfig('bumpMapSrc'),\r\n      bumpScale:createNumberRangePropConfig('bumpScale', 1, {nudgeMultiplier: 0.1},[0,1]),\r\n\r\n      displacementMapSrc:createFileSrcPropConfig('displacementMapSrc'),\r\n      displacementScale:createNumberRangePropConfig('displacementScale', 1, {nudgeMultiplier: 0.1},[0,1]),\r\n      displacementBias:createNumberRangePropConfig('displacementBias', 0, {nudgeMultiplier: 0.1},[0,1]),\r\n      \r\n      emissive : createColorPropConfig('emissive', new Color('black')),\r\n      emissiveMapSrc:createFileSrcPropConfig('emissiveMapSrc'),\r\n      emissiveIntensity:createNumberRangePropConfig('emissiveIntensity', 0, {nudgeMultiplier: 0.1},[0,1]),\r\n      \r\n      envMapSrc:createFileSrcPropConfig('envMapSrc'),\r\n      envMapIntensity:createNumberRangePropConfig('envMapIntensity', 0, {nudgeMultiplier: 0.1},[0,1]),\r\n\r\n      lightMapSrc:createFileSrcPropConfig('lightMapSrc'),\r\n      lightMapIntensity:createNumberRangePropConfig('lightMapIntensity', 1, {nudgeMultiplier: 0.1},[0,1]),\r\n\r\n      metalnessMapSrc:createFileSrcPropConfig('metalnessMapSrc'),\r\n      metalness:createNumberRangePropConfig('metalness', 0, {nudgeMultiplier: 0.1},[0,1]),\r\n\r\n      normalMapSrc:createFileSrcPropConfig('normalMapSrc'),\r\n\r\n      roughnessMapSrc:createFileSrcPropConfig('roughnessMapSrc'),\r\n      roughness:createNumberRangePropConfig('roughness', 1, {nudgeMultiplier: 0.1},[0,1]),\r\n\r\n      \r\n    },\r\n    test:{\r\n      roughness:createNumberRangePropConfig('roughness', 1, {nudgeMultiplier: 0.1},[0,1]),\r\n    },\r\n    icon: 'cube' as const,\r\n    dimensionless:true,\r\n    useTransformControls: false,\r\n  },\r\n  spotLight: {\r\n    ...extendObjectProps(baseLightConfig, {\r\n      angle: createNumberPropConfig('angle', 0, {nudgeMultiplier: 0.001}),\r\n      penumbra: createNumberPropConfig('penumbra', 0, {nudgeMultiplier: 0.001}),\r\n    }),\r\n    icon: 'spotLight' as const,\r\n    createHelper: (light: SpotLight) =>\r\n      new SpotLightHelper(light, selectionColor),\r\n  },\r\n  directionalLight: {\r\n    ...extendObjectProps(baseObjectConfig, {\r\n      intensity: createNumberPropConfig('intensity', 1),\r\n      color: createColorPropConfig('color', new Color('white')),\r\n    }),\r\n    icon: 'sun' as const,\r\n    dimensionless: true,\r\n    createHelper: (light: DirectionalLight) =>\r\n      new DirectionalLightHelper(light, 1, selectionColor),\r\n  },\r\n  pointLight: {\r\n    ...baseLightConfig,\r\n    icon: 'lightBulb' as const,\r\n    createHelper: (light: PointLight) =>\r\n      new PointLightHelper(light, 1, selectionColor),\r\n  },\r\n  ambientLight: {\r\n    props: {\r\n      intensity: createNumberPropConfig('intensity', 1),\r\n      color: createColorPropConfig('color', new Color('white')),\r\n    },\r\n    useTransformControls: false,\r\n    icon: 'lightBulb' as const,\r\n  },\r\n  hemisphereLight: {\r\n    props: {\r\n      intensity: createNumberPropConfig('intensity', 1),\r\n      color: createColorPropConfig('color', new Color('white')),\r\n      groundColor: createColorPropConfig('groundColor', new Color('white')),\r\n    },\r\n    useTransformControls: false,\r\n    icon: 'lightBulb' as const,\r\n  },\r\n  perspectiveCamera: extendObjectProps(baseCameraConfig, {\r\n    fov: createNumberPropConfig('fov', 50, {nudgeMultiplier: 0.1}),\r\n    zoom: createNumberPropConfig('zoom', 1),\r\n  }),\r\n  orthographicCamera: baseCameraConfig,\r\n  points: baseObjectConfig,\r\n  line: baseObjectConfig,\r\n  lineLoop: baseObjectConfig,\r\n  lineSegments: baseObjectConfig,\r\n  fog: {\r\n    props: {\r\n      color: createColorPropConfig('color'),\r\n      near: createNumberPropConfig('near', 1, {nudgeMultiplier: 0.1}),\r\n      far: createNumberPropConfig('far', 1000, {nudgeMultiplier: 0.1}),\r\n    },\r\n    useTransformControls: false,\r\n    icon: 'cloud' as const,\r\n  },\r\n}\r\n\r\n// Assert that the config is indeed of EditableFactoryConfig without actually\r\n// forcing it to that type so that we can pass the real type to the editable factory\r\n// Assert that the config is indeed of EditableFactoryConfig without actually\r\n// forcing it to that type so that we can pass the real type to the editable factory\r\ndefaultEditableFactoryConfig as unknown as EditableFactoryConfig\r\n\r\nexport default defaultEditableFactoryConfig\r\n", "import {editorStore} from './store'\r\nimport type {ISheetObject} from '@theatre/core'\r\n\r\nexport const refreshSnapshot = editorStore.getState().createSnapshot\r\n\r\nexport const makeStoreKey = (sheetObjectAddress: ISheetObject['address']) =>\r\n  `${sheetObjectAddress.sheetId}:${sheetObjectAddress.sheetInstanceId}:${sheetObjectAddress.objectKey}`\r\n", "import React, {useEffect} from 'react'\r\nimport {refreshSnapshot} from './utils'\r\n\r\n/**\r\n * Putting this element in a suspense tree makes sure the snapshot editor\r\n * gets refreshed once the tree renders.\r\n *\r\n * Alternatively you can use {@link refreshSnapshot}\r\n *\r\n * @example\r\n * Usage\r\n * ```jsx\r\n * <Suspense fallback={null}>\r\n *  <RefreshSnapshot />\r\n *  <Model url={sceneGLB} />\r\n * </Suspense>\r\n * ```\r\n */\r\nconst RefreshSnapshot: React.FC<{}> = () => {\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      refreshSnapshot()\r\n    })\r\n  }, [])\r\n  return <></>\r\n}\r\n\r\nexport default RefreshSnapshot\r\n", "import * as React from 'react'\r\nimport type {PerspectiveCamera as PerspectiveCameraImpl, Object3D} from 'three'\r\nimport {useFrame, useThree} from '@react-three/fiber'\r\nimport mergeRefs from 'react-merge-refs'\r\nimport {editable} from '../index'\r\nimport {Vector3} from 'three'\r\nimport {editorStore} from '../main/store'\r\nimport type {MutableRefObject} from 'react'\r\n\r\nexport type PerspectiveCameraProps = Omit<\r\n  JSX.IntrinsicElements['perspectiveCamera'],\r\n  'lookAt'\r\n> & {\r\n  lookAt?:\r\n    | [number, number, number]\r\n    | Vector3\r\n    | MutableRefObject<Object3D | null | undefined>\r\n  makeDefault?: boolean\r\n  manual?: boolean\r\n  children?: React.ReactNode\r\n}\r\n\r\nexport const PerspectiveCamera = editable(\r\n  React.forwardRef(\r\n    ({makeDefault, lookAt, ...props}: PerspectiveCameraProps, ref) => {\r\n      const set = useThree(({set}) => set)\r\n      const camera = useThree(({camera}) => camera)\r\n      const size = useThree(({size}) => size)\r\n      const cameraRef = React.useRef<PerspectiveCameraImpl>(null!)\r\n\r\n      React.useLayoutEffect(() => {\r\n        if (!props.manual) {\r\n          cameraRef.current.aspect = size.width / size.height\r\n        }\r\n      }, [size, props])\r\n\r\n      React.useLayoutEffect(() => {\r\n        cameraRef.current.updateProjectionMatrix()\r\n      })\r\n\r\n      React.useLayoutEffect(() => {\r\n        if (makeDefault) {\r\n          const oldCam = camera\r\n          set(() => ({camera: cameraRef.current!}))\r\n          return () => set(() => ({camera: oldCam}))\r\n        }\r\n        // The camera should not be part of the dependency list because this components camera is a stable reference\r\n        // that must exchange the default, and clean up after itself on unmount.\r\n      }, [cameraRef, makeDefault, set])\r\n\r\n      useFrame(() => {\r\n        if (lookAt && cameraRef.current) {\r\n          cameraRef.current.lookAt(\r\n            Array.isArray(lookAt)\r\n              ? new Vector3(...lookAt)\r\n              : (lookAt as MutableRefObject<Object3D>).current\r\n              ? (lookAt as MutableRefObject<Object3D>).current.position\r\n              : (lookAt as Vector3),\r\n          )\r\n\r\n          // how could we make it possible for users to do something like this too?\r\n          const snapshot = editorStore.getState().editablesSnapshot\r\n          if (snapshot) {\r\n            snapshot[\r\n              cameraRef.current.userData.__storeKey\r\n            ].proxyObject?.rotation.copy(cameraRef.current.rotation)\r\n          }\r\n        }\r\n      })\r\n\r\n      return <perspectiveCamera ref={mergeRefs([cameraRef, ref])} {...props} />\r\n    },\r\n  ),\r\n  'perspectiveCamera',\r\n)\r\n", "import * as React from 'react'\r\nimport type {\r\n  OrthographicCamera as OrthographicCameraImpl,\r\n  Object3D,\r\n} from 'three'\r\nimport {useFrame, useThree} from '@react-three/fiber'\r\nimport mergeRefs from 'react-merge-refs'\r\nimport {editable} from '../index'\r\nimport {Vector3} from 'three'\r\nimport type {MutableRefObject} from 'react'\r\nimport {editorStore} from '../main/store'\r\n\r\nexport type OrthographicCameraProps = Omit<\r\n  JSX.IntrinsicElements['orthographicCamera'],\r\n  'lookAt'\r\n> & {\r\n  lookAt?:\r\n    | [number, number, number]\r\n    | Vector3\r\n    | MutableRefObject<Object3D | null | undefined>\r\n  makeDefault?: boolean\r\n  manual?: boolean\r\n  children?: React.ReactNode\r\n}\r\n\r\nexport const OrthographicCamera = editable(\r\n  React.forwardRef(\r\n    ({makeDefault, lookAt, ...props}: OrthographicCameraProps, ref) => {\r\n      const set = useThree(({set}) => set)\r\n      const camera = useThree(({camera}) => camera)\r\n      const size = useThree(({size}) => size)\r\n      const cameraRef = React.useRef<OrthographicCameraImpl>(null!)\r\n\r\n      React.useLayoutEffect(() => {\r\n        if (!props.manual) {\r\n          cameraRef.current.updateProjectionMatrix()\r\n        }\r\n      }, [size, props])\r\n\r\n      React.useLayoutEffect(() => {\r\n        cameraRef.current.updateProjectionMatrix()\r\n      })\r\n\r\n      React.useLayoutEffect(() => {\r\n        if (makeDefault) {\r\n          const oldCam = camera\r\n          set(() => ({camera: cameraRef.current!}))\r\n          return () => set(() => ({camera: oldCam}))\r\n        }\r\n        // The camera should not be part of the dependency list because this components camera is a stable reference\r\n        // that must exchange the default, and clean up after itself on unmount.\r\n      }, [cameraRef, makeDefault, set])\r\n\r\n      useFrame(() => {\r\n        if (lookAt && cameraRef.current) {\r\n          cameraRef.current.lookAt(\r\n            Array.isArray(lookAt)\r\n              ? new Vector3(...lookAt)\r\n              : (lookAt as MutableRefObject<Object3D>).current\r\n              ? (lookAt as MutableRefObject<Object3D>).current.position\r\n              : (lookAt as Vector3),\r\n          )\r\n\r\n          // how could we make it possible for users to do something like this too?\r\n          const snapshot = editorStore.getState().editablesSnapshot\r\n          if (snapshot) {\r\n            snapshot[\r\n              cameraRef.current.userData.__storeKey\r\n            ].proxyObject?.rotation.copy(cameraRef.current.rotation)\r\n          }\r\n        }\r\n      })\r\n\r\n      return (\r\n        <orthographicCamera\r\n          left={size.width / -2}\r\n          right={size.width / 2}\r\n          top={size.height / 2}\r\n          bottom={size.height / -2}\r\n          ref={mergeRefs([cameraRef, ref])}\r\n          {...props}\r\n        />\r\n      )\r\n    },\r\n  ),\r\n  'orthographicCamera',\r\n)\r\n"],
  "mappings": "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",
  "names": []
}
